# ๐ ABAC Portal - Attribute-Based Access Control Platform

ะะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝะฐั ะฟะปะฐััะพัะผะฐ ะดะปั ะผะพะดะตะปะธัะพะฒะฐะฝะธั ะธ ัะตััะธัะพะฒะฐะฝะธั ัะฐะทะณัะฐะฝะธัะตะฝะธั ะดะพัััะฟะฐ ะฝะฐ ะพัะฝะพะฒะต ะฐััะธะฑััะพะฒ (Attribute-Based Access Control).

## ๐ ะะฟะธัะฐะฝะธะต

ะญัะพั ะฟัะพะตะบั ะดะตะผะพะฝัััะธััะตั ัะฐะฑะพัั ABAC (Attribute-Based Access Control) ัะธััะตะผั ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ:
- **Backend**: FastAPI + Casbin
- **Frontend**: React
- **Database**: PostgreSQL
- **Containerization**: Docker & Docker Compose

## ๐ ะัััััะน ััะฐัั

### ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

- Docker
- Docker Compose

### ะะฐะฟััะบ ะฟัะพะตะบัะฐ

```bash
# ะะปะพะฝะธัะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/yourusername/abac-portal
cd abac-portal

# ะะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั
docker compose up --build

# ะะปะธ ะฒ ัะพะฝะพะฒะพะผ ัะตะถะธะผะต
docker compose up -d
```

ะะพัะปะต ะทะฐะฟััะบะฐ:
- **Frontend**: http://localhost:3000
- **Backend API**: http://localhost:5000
- **API Documentation**: http://localhost:5000/docs
- **PostgreSQL**: localhost:5432

## ๐งฉ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ          FRONTEND (React)                  โ
โ  - ะขะตัั ะดะพัััะฟะฐ                            โ
โ  - ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ               โ
โ  - ะฃะฟัะฐะฒะปะตะฝะธะต ะดะพะบัะผะตะฝัะฐะผะธ                  โ
โ  - ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปะธัะธะบะฐะผะธ                   โ
โ  - ะัะพัะผะพัั ะปะพะณะพะฒ                          โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
               โ REST API
โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        BACKEND (FastAPI + Casbin)          โ
โ  /auth   - ะฟัะพะฒะตัะบะฐ ะดะพัััะฟะฐ                โ
โ  /users  - ัะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ       โ
โ  /docs   - ัะฐะฑะพัะฐ ั ะดะพะบัะผะตะฝัะฐะผะธ            โ
โ  /policies - ัะฟัะฐะฒะปะตะฝะธะต ะฟะพะปะธัะธะบะฐะผะธ         โ
โ  /logs   - ะฟัะพัะผะพัั ะปะพะณะพะฒ ะดะพัััะฟะฐ          โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
               โ
โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ      PostgreSQL Database                    โ
โ  - users                                    โ
โ  - documents                                โ
โ  - access_logs                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
.
โโโ backend/
โ   โโโ main.py                 # FastAPI ัะตัะฒะตั
โ   โโโ casbin_model.conf       # ะะพะดะตะปั Casbin
โ   โโโ casbin_policy.csv       # ะะพะปะธัะธะบะธ ะดะพัััะฟะฐ
โ   โโโ init_db.sql             # SQL ััะตะผะฐ ะธ ะฝะฐัะฐะปัะฝัะต ะดะฐะฝะฝัะต
โ   โโโ requirements.txt         # Python ะทะฐะฒะธัะธะผะพััะธ
โ   โโโ Dockerfile               # Docker ะบะพะฝัะธะณััะฐัะธั
โโโ frontend/
โ   โโโ src/
โ   โ   โโโ App.js              # ะะปะฐะฒะฝัะน ะบะพะผะฟะพะฝะตะฝั
โ   โ   โโโ api.js              # Axios ะบะพะฝัะธะณััะฐัะธั
โ   โ   โโโ components/
โ   โ       โโโ AccessTester.js # ะขะตัั ะดะพัััะฟะฐ
โ   โ       โโโ UsersTable.js   # ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
โ   โ       โโโ DocumentsTable.js # ะฃะฟัะฐะฒะปะตะฝะธะต ะดะพะบัะผะตะฝัะฐะผะธ
โ   โ       โโโ PoliciesTable.js # ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปะธัะธะบะฐะผะธ
โ   โ       โโโ LogsViewer.js   # ะัะพัะผะพัั ะปะพะณะพะฒ
โ   โโโ package.json
โ   โโโ Dockerfile
โโโ docker-compose.yml          # Docker Compose ะบะพะฝัะธะณััะฐัะธั
โโโ README.md

```

## ๐ฏ ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

### 1. ะขะตัั ABAC (๐ ะขะตัั ABAC)
- ะัะฑะพั ัะพะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั (admin, manager, employee, viewer)
- ะัะฑะพั ะดะตะฟะฐััะฐะผะตะฝัะฐ (sales, engineering, hr)
- ะัะฑะพั ะดะตะนััะฒะธั (read, write, edit, delete)
- ะัะฑะพั ะดะพะบัะผะตะฝัะฐ ะดะปั ะฟัะพะฒะตัะบะธ
- ะัะพะฑัะฐะถะตะฝะธะต ัะตะทัะปััะฐัะฐ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ

### 2. ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ (๐ง ะะพะปัะทะพะฒะฐัะตะปะธ)
- ะัะพัะผะพัั ะฒัะตั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะฐััะธะฑััะพะฒ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะฃะดะฐะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปะตะน

### 3. ะฃะฟัะฐะฒะปะตะฝะธะต ะดะพะบัะผะตะฝัะฐะผะธ (๐ ะะพะบัะผะตะฝัั)
- ะัะพัะผะพัั ะฒัะตั ะดะพะบัะผะตะฝัะพะฒ
- ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ะดะพะบัะผะตะฝัะพะฒ
- ะะฐัััะพะนะบะฐ ะดะตะฟะฐััะฐะผะตะฝัะฐ, ััะฐัััะฐ ะธ ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝะพััะธ

### 4. ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปะธัะธะบะฐะผะธ (โ๏ธ ะะพะปะธัะธะบะธ)
- ะัะพัะผะพัั ะฒัะตั Casbin ะฟะพะปะธัะธะบ
- ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ะฟัะฐะฒะธะป ะดะพัััะฟะฐ
- ะฃะดะฐะปะตะฝะธะต ัััะตััะฒัััะธั ะฟัะฐะฒะธะป

### 5. ะัะพัะผะพัั ะปะพะณะพะฒ (๐ ะะพะณะธ)
- ะัะพัะผะพัั ะฒัะตั ัะตัะตะฝะธะน ัะธััะตะผั ะดะพัััะฟะฐ
- ะะฒัะพะพะฑะฝะพะฒะปะตะฝะธะต ะบะฐะถะดัะต 3 ัะตะบัะฝะดั
- ะัะพะฑัะฐะถะตะฝะธะต ะฒัะตะผะตะฝะธ, ะดะตะนััะฒะธั ะธ ัะตะทัะปััะฐัะฐ

## ๐งช ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะขะตัั ะดะพัััะฟะฐ ัะตัะตะท UI

1. ะัะบัะพะนัะต http://localhost:3000
2. ะะตัะตะนะดะธัะต ะฝะฐ ะฒะบะปะฐะดะบั "๐ ะขะตัั ABAC"
3. ะัะฑะตัะธัะต:
   - ะะพะปั: manager
   - ะะตะฟะฐััะฐะผะตะฝั: sales
   - ะะตะนััะฒะธะต: read
   - ID ะดะพะบัะผะตะฝัะฐ: 1
4. ะะฐะถะผะธัะต "ะัะพะฒะตัะธัั ะดะพัััะฟ"
5. ะฃะฒะธะดะธัะต ัะตะทัะปััะฐั (ัะฐะทัะตัะตะฝะพ/ะทะฐะฟัะตัะตะฝะพ)

### ะขะตัั ัะตัะตะท API

```bash
curl -X POST http://localhost:5000/auth \
  -H "Content-Type: application/json" \
  -d '{
    "user_role": "manager",
    "user_department": "sales",
    "action": "read",
    "document_id": 1
  }'
```

ะัะฒะตั:
```json
{
  "allowed": true,
  "reason": "Access granted",
  "document": {
    "id": 1,
    "title": "Sales Report Q1",
    "department": "sales",
    "status": "approved",
    "sensitivity": "confidential"
  }
}
```

## ๐๏ธ ะะฐะทะฐ ะดะฐะฝะฝัั

### ะขะฐะฑะปะธัะฐ users
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50),
    role VARCHAR(50),
    department VARCHAR(50),
    attributes JSONB
);
```

### ะขะฐะฑะปะธัะฐ documents
```sql
CREATE TABLE documents (
    id SERIAL PRIMARY KEY,
    title VARCHAR(100),
    department VARCHAR(50),
    status VARCHAR(20),
    sensitivity VARCHAR(20)
);
```

### ะขะฐะฑะปะธัะฐ access_logs
```sql
CREATE TABLE access_logs (
    id SERIAL PRIMARY KEY,
    user_id INT,
    action VARCHAR(50),
    resource VARCHAR(50),
    decision BOOLEAN,
    timestamp TIMESTAMP DEFAULT now()
);
```

## โ๏ธ ะะพะปะธัะธะบะธ Casbin

ะคะฐะนะป `backend/casbin_policy.csv` ัะพะดะตัะถะธั ะฟัะฐะฒะธะปะฐ ะดะพัััะฟะฐ:

```csv
p,admin,*,*                          # ะะดะผะธะฝ ะธะผะตะตั ะดะพัััะฟ ะบะพ ะฒัะตะผั
p,manager,sales,read                 # ะะตะฝะตะดะถะตั ะผะพะถะตั ัะธัะฐัั sales
p,manager,sales,draft,read           # ะะตะฝะตะดะถะตั ะผะพะถะตั ัะธัะฐัั ัะตัะฝะพะฒะธะบะธ sales
p,employee,sales,approved,read       # ะกะพัััะดะฝะธะบ ะผะพะถะตั ัะธัะฐัั ะพะดะพะฑัะตะฝะฝัะต sales
p,viewer,sales,approved,read         # ะัะธัะตะปั ะผะพะถะตั ัะธัะฐัั ะพะดะพะฑัะตะฝะฝัะต sales
p,manager,engineering,read           # ะะตะฝะตะดะถะตั ะผะพะถะตั ัะธัะฐัั engineering
p,employee,engineering,draft,read   # ะกะพัััะดะฝะธะบ ะผะพะถะตั ัะธัะฐัั ัะตัะฝะพะฒะธะบะธ engineering
```

## ๐๏ธ ะะฐะทัะฐะฑะพัะบะฐ

### ะะฐะฟััะบ ะฑะตะท Docker

#### Backend
```bash
cd backend
pip install -r requirements.txt
uvicorn main:app --reload
```

#### Frontend
```bash
cd frontend
npm install
npm start
```

### ะะพะณะธ
```bash
# ะัะพัะผะพัั ะฒัะตั ะปะพะณะพะฒ
docker compose logs -f

# ะะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker compose logs -f backend
docker compose logs -f frontend
docker compose logs -f postgres
```

### ะััะฐะฝะพะฒะบะฐ
```bash
docker compose down

# ะก ัะดะฐะปะตะฝะธะตะผ ะดะฐะฝะฝัั
docker compose down -v
```

## ๐ ะัะธะผะตัั ัะตััะธัะพะฒะฐะฝะธั

### ะกัะตะฝะฐัะธะน 1: ะะตะฝะตะดะถะตั ัะธัะฐะตั ะพะดะพะฑัะตะฝะฝัะน ะดะพะบัะผะตะฝั sales
- ะะพะปั: manager
- ะะตะฟะฐััะฐะผะตะฝั: sales
- ะะพะบัะผะตะฝั: 1 (Sales Report Q1, status=approved)
- ะะตะทัะปััะฐั: โ ะะฐะทัะตัะตะฝะพ

### ะกัะตะฝะฐัะธะน 2: ะกะพัััะดะฝะธะบ ะฟััะฐะตััั ัะตะดะฐะบัะธัะพะฒะฐัั ะพะดะพะฑัะตะฝะฝัะน ะดะพะบัะผะตะฝั
- ะะพะปั: employee
- ะะตะฟะฐััะฐะผะตะฝั: sales
- ะะพะบัะผะตะฝั: 1 (status=approved)
- ะะตะทัะปััะฐั: โ ะะฐะฟัะตัะตะฝะพ

### ะกัะตะฝะฐัะธะน 3: ะะดะผะธะฝ ะฟะพะปััะฐะตั ะดะพัััะฟ ะบะพ ะฒัะตะผั
- ะะพะปั: admin
- ะะพะบัะผะตะฝั: ะปัะฑะพะน
- ะะตะทัะปััะฐั: โ ะะฐะทัะตัะตะฝะพ

## ๐ง ะะฐัััะพะนะบะฐ

### ะะทะผะตะฝะตะฝะธะต ะฟะพััะพะฒ

ะััะตะดะฐะบัะธััะนัะต `docker-compose.yml`:

```yaml
services:
  backend:
    ports:
      - "8080:5000"  # Backend ะฝะฐ ะฟะพััั 8080
  
  frontend:
    ports:
      - "8081:80"    # Frontend ะฝะฐ ะฟะพััั 8081
```

### ะะทะผะตะฝะตะฝะธะต ะฑะฐะทั ะดะฐะฝะฝัั

ะััะตะดะฐะบัะธััะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฒ `docker-compose.yml`:

```yaml
environment:
  POSTGRES_USER: abac
  POSTGRES_PASSWORD: secret
  POSTGRES_DB: abac_db
```

## ๐ API Endpoints

### ะะฒัะพัะธะทะฐัะธั ะธ ะดะพัััะฟ
- `POST /auth` - ะัะพะฒะตัะบะฐ ะดะพัััะฟะฐ

### ะะพะปัะทะพะฒะฐัะตะปะธ
- `GET /users` - ะะพะปััะธัั ะฒัะตั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- `POST /users` - ะกะพะทะดะฐัั ะฟะพะปัะทะพะฒะฐัะตะปั
- `PUT /users/{id}` - ะะฑะฝะพะฒะธัั ะฟะพะปัะทะพะฒะฐัะตะปั
- `DELETE /users/{id}` - ะฃะดะฐะปะธัั ะฟะพะปัะทะพะฒะฐัะตะปั

### ะะพะบัะผะตะฝัั
- `GET /docs` - ะะพะปััะธัั ะฒัะต ะดะพะบัะผะตะฝัั
- `POST /docs` - ะกะพะทะดะฐัั ะดะพะบัะผะตะฝั
- `PUT /docs/{id}` - ะะฑะฝะพะฒะธัั ะดะพะบัะผะตะฝั

### ะะพะปะธัะธะบะธ
- `GET /policies` - ะะพะปััะธัั ะฒัะต ะฟะพะปะธัะธะบะธ
- `POST /policies` - ะะพะฑะฐะฒะธัั ะฟะพะปะธัะธะบั
- `DELETE /policies` - ะฃะดะฐะปะธัั ะฟะพะปะธัะธะบั

### ะะพะณะธ
- `GET /logs` - ะะพะปััะธัั ะปะพะณะธ ะดะพัััะฟะฐ

ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั API: http://localhost:5000/docs

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

ะัะธะฒะตัััะฒััััั ะปัะฑัะต ัะปัััะตะฝะธั ะธ ะฟัะตะดะปะพะถะตะฝะธั!

## ๐ ะะธัะตะฝะทะธั

MIT License

## ๐ค ะะฒัะพั

ะะฐะทัะฐะฑะพัะฐะฝะพ ะดะปั ะดะตะผะพะฝัััะฐัะธะธ ัะฐะฑะพัั ABAC ัะธััะตะผั

---

**ะะพะฟัะพัั?** ะัะบัะพะนัะต issue ะธะปะธ ัะฒัะถะธัะตัั ั ะฐะฒัะพัะพะผ.

